extends ../_shared/page-layout
include ../_shared/_mixins

block page-head
	link(rel='stylesheet', href='/devices/css/devices.css')

block page-body

	div.portlet
		div.portlet-title
			div.caption
				span.caption-subject.text-uppercase= _.title

		div.portlet-body

			if status != null
				div(class = 'alert alert-' + (status == 'error' ? 'danger' : 'success'))
					case status
						when 'error'
							p.text-danger Something went wrong!
						when 'saved'
							p.text-success Your changes have been saved!
						when 'created'
							p.text-success The device <strong>#{device.hostname}</strong> was created!

			form(action = '/devices/edit/' + (device ? device._id : 0), method = 'post')

				fieldset.form-group
					label(for = 'hostname') Hostname
					input#hostname.form-control(type = 'text', name = 'hostname', value = device ? device.hostname : '')

				fieldset.form-group
					label(for = 'ip_address') IP Address
					input#ip_address.form-control(type = 'text', name = 'ip_address', value = device ? device.ip_address : '')

				+formButtonGroup(
					'Type', 'type',
					[
						{value: 'server', label: 'Server', fa_icon: 'server'},
						{value: 'desktop', label: 'Desktop', fa_icon: 'desktop'},
						{value: 'laptop', label: 'Laptop', fa_icon: 'laptop'},
						{value: 'mobile', label: 'Mobile', fa_icon: 'mobile'}
					],
					device ? device.type : ''
				)

				+formButtonGroup(
					'Location', 'location',
					[
						{value: 'internal', label: 'Internal', fa_icon: 'sign-in'},
						{value: 'external', label: 'External', fa_icon: 'sign-out'}
					],
					device ? device.location : ''
				)

				button.btn.btn-primary Save