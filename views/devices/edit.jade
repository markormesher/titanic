extends ../_shared/page-layout
include ../_mixins/forms

block page-head

	link(rel = 'stylesheet', href = '/devices/css/devices.css')

block page-body

	div.portlet
		div.portlet-title
			div.caption
				span.caption-subject.text-uppercase= _.title

		div.portlet-body

			if status != null
				div(class = 'alert alert-' + (status == 'error' ? 'danger' : 'success'))
					case status
						when 'error'
							p.text-danger Something went wrong!

			form(action = '/devices/edit/' + (device ? device._id : 0), method = 'post')

				+formTextInput('Hostname', 'hostname', device ? device.hostname : '')

				+formTextInput('IP Address', 'ip_address', device ? device.ip_address : '')

				+formButtonGroup('Type', 'type', deviceTypes, device ? device.type : '')

				+formButtonGroup(
					'Location', 'location',
					[
						{value: 'internal', label: 'Internal', fa_icon: 'sign-in'},
						{value: 'external', label: 'External', fa_icon: 'sign-out'}
					],
					device ? device.location : ''
				)

				fieldset.form-group
					button.btn.btn-primary
						i.fa.fa-save
						| &nbsp; Save